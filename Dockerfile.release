# Minimal production image built from pre-compiled binaries (CI only).
# For local development, use the multi-stage Dockerfile instead.
FROM alpine:3.21

ARG TARGETARCH

COPY docker-ctx/ctopia-hub-linux-${TARGETARCH} /usr/local/bin/ctopia-hub

RUN chmod +x /usr/local/bin/ctopia-hub \
    && apk add --no-cache ca-certificates tzdata docker-cli docker-cli-compose

WORKDIR /app

VOLUME ["/app/data"]

EXPOSE 8080

ENTRYPOINT ["/usr/local/bin/ctopia-hub"]
